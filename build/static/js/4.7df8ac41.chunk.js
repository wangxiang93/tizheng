(this["webpackJsonp_react-admin"]=this["webpackJsonp_react-admin"]||[]).push([[4],{1001:function(e,t,a){var n={"./index.js":995,"./system.js":1002};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=1001},1002:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a.n(n),c=a(11),l=(a(511),a(370)),i=a(151),o=a(9);t.default={menuTarget:[{value:"menu",label:"\u5e94\u7528\u83dc\u5355"},{value:"qiankun",label:"\u4e7e\u5764\u5b50\u5e94\u7528"},{value:"iframe",label:"iframe\u5185\u5d4c\u7b2c\u4e09\u65b9"},{value:"_self",label:"\u5f53\u524d\u7a97\u53e3\u6253\u5f00\u7b2c\u4e09\u65b9"},{value:"_blank",label:"\u65b0\u5f00\u7a97\u53e3\u6253\u5f00\u7b2c\u4e09\u65b9"}],yesNo:[{value:!0,label:"\u662f",tag:Object(o.jsx)(l.a,{color:"green",children:"\u662f"})},{value:!1,label:"\u5426",tag:Object(o.jsx)(l.a,{color:"red",children:"\u5426"})}],enabled:[{value:!0,label:"\u542f\u7528",tag:Object(o.jsx)(l.a,{color:"green",children:"\u542f\u7528"})},{value:!1,label:"\u7981\u7528",tag:Object(o.jsx)(l.a,{color:"red",children:"\u7981\u7528"})}],sex:[{value:"1",label:"\u7537"},{value:"2",label:"\u5973"},{value:"3",label:"\u672a\u77e5"}],system:function(){return Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.get("/menu/queryTopMenus");case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return{value:e.id,label:e.title,meta:e}})));case 4:case"end":return e.stop()}}),e)})))()},action:function(){return[{value:"add",label:"\u6dfb\u52a0"}]},get demo(){return[]}}},1003:function(e,t,a){"use strict";a(35),a(1004),a(512),a(996),a(997)},1004:function(e,t,a){},1005:function(e,t,a){"use strict";var n=a(3),r=a(2),c=a(0),l=a(1),i=a.n(l),o=a(33),s=a(85),u=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},d=function(e){var t=e.prefixCls,a=e.className,l=e.hoverable,o=void 0===l||l,d=u(e,["prefixCls","className","hoverable"]);return c.createElement(s.a,null,(function(e){var l=(0,e.getPrefixCls)("card",t),s=i()("".concat(l,"-grid"),a,Object(n.a)({},"".concat(l,"-grid-hoverable"),o));return c.createElement("div",Object(r.a)({},d,{className:s}))}))},b=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},j=function(e){return c.createElement(s.a,null,(function(t){var a=t.getPrefixCls,n=e.prefixCls,l=e.className,o=e.avatar,s=e.title,u=e.description,d=b(e,["prefixCls","className","avatar","title","description"]),j=a("card",n),m=i()("".concat(j,"-meta"),l),O=o?c.createElement("div",{className:"".concat(j,"-meta-avatar")},o):null,f=s?c.createElement("div",{className:"".concat(j,"-meta-title")},s):null,p=u?c.createElement("div",{className:"".concat(j,"-meta-description")},u):null,v=f||p?c.createElement("div",{className:"".concat(j,"-meta-detail")},f,p):null;return c.createElement("div",Object(r.a)({},d,{className:m}),O,v)}))},m=a(311),O=a(998),f=a(999),p=a(34),v=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};var h=function(e){var t,a,l,u=c.useContext(s.b),b=u.getPrefixCls,j=u.direction,h=c.useContext(p.b),x=e.prefixCls,y=e.className,g=e.extra,E=e.headStyle,k=void 0===E?{}:E,w=e.bodyStyle,C=void 0===w?{}:w,N=e.title,S=e.loading,P=e.bordered,T=void 0===P||P,I=e.size,F=e.type,q=e.cover,L=e.actions,z=e.tabList,K=e.children,U=e.activeTabKey,B=e.defaultActiveTabKey,D=e.tabBarExtraContent,V=e.hoverable,_=e.tabProps,M=void 0===_?{}:_,G=v(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),H=b("card",x),A=0===C.padding||"0px"===C.padding?{padding:24}:void 0,J=c.createElement("div",{className:"".concat(H,"-loading-block")}),R=c.createElement("div",{className:"".concat(H,"-loading-content"),style:A},c.createElement(O.a,{gutter:8},c.createElement(f.a,{span:22},J)),c.createElement(O.a,{gutter:8},c.createElement(f.a,{span:8},J),c.createElement(f.a,{span:15},J)),c.createElement(O.a,{gutter:8},c.createElement(f.a,{span:6},J),c.createElement(f.a,{span:18},J)),c.createElement(O.a,{gutter:8},c.createElement(f.a,{span:13},J),c.createElement(f.a,{span:9},J)),c.createElement(O.a,{gutter:8},c.createElement(f.a,{span:4},J),c.createElement(f.a,{span:3},J),c.createElement(f.a,{span:16},J))),Y=void 0!==U,W=Object(r.a)(Object(r.a)({},M),(t={},Object(n.a)(t,Y?"activeKey":"defaultActiveKey",Y?U:B),Object(n.a)(t,"tabBarExtraContent",D),t)),Z=z&&z.length?c.createElement(m.a,Object(r.a)({size:"large"},W,{className:"".concat(H,"-head-tabs"),onChange:function(t){var a;null===(a=e.onTabChange)||void 0===a||a.call(e,t)}}),z.map((function(e){return c.createElement(m.a.TabPane,{tab:e.tab,disabled:e.disabled,key:e.key})}))):null;(N||g||Z)&&(l=c.createElement("div",{className:"".concat(H,"-head"),style:k},c.createElement("div",{className:"".concat(H,"-head-wrapper")},N&&c.createElement("div",{className:"".concat(H,"-head-title")},N),g&&c.createElement("div",{className:"".concat(H,"-extra")},g)),Z));var Q=q?c.createElement("div",{className:"".concat(H,"-cover")},q):null,X=c.createElement("div",{className:"".concat(H,"-body"),style:C},S?R:K),$=L&&L.length?c.createElement("ul",{className:"".concat(H,"-actions")},function(e){return e.map((function(t,a){return c.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(a)},c.createElement("span",null,t))}))}(L)):null,ee=Object(o.a)(G,["onTabChange"]),te=I||h,ae=i()(H,(a={},Object(n.a)(a,"".concat(H,"-loading"),S),Object(n.a)(a,"".concat(H,"-bordered"),T),Object(n.a)(a,"".concat(H,"-hoverable"),V),Object(n.a)(a,"".concat(H,"-contain-grid"),function(){var t;return c.Children.forEach(e.children,(function(e){e&&e.type&&e.type===d&&(t=!0)})),t}()),Object(n.a)(a,"".concat(H,"-contain-tabs"),z&&z.length),Object(n.a)(a,"".concat(H,"-").concat(te),te),Object(n.a)(a,"".concat(H,"-type-").concat(F),!!F),Object(n.a)(a,"".concat(H,"-rtl"),"rtl"===j),a),y);return c.createElement("div",Object(r.a)({},ee,{className:ae}),l,Q,X,$)};h.Grid=d,h.Meta=j;t.a=h},976:function(e,t,a){"use strict";a.r(t);a(310);var n=a(171),r=(a(107),a(39)),c=a(5),l=a.n(c),i=a(11),o=a(26),s=(a(369),a(232)),u=a(49),d=a(0),b=a(15),j=a(170),m=(a(995),a(996),a(998)),O=(a(997),a(999)),f=(a(1003),a(1005)),p=a(9),v=Object(j.a)({modal:{title:function(e){var t;return null!==e&&void 0!==e&&null!==(t=e.record)&&void 0!==t&&t.isDetail?"\u67e5\u770b\u7528\u6237":e.isEdit?"\u7f16\u8f91\u7528\u6237":"\u521b\u5efa\u7528\u6237"},width:"70%",top:50}})((function(e){var t=e.record,a=e.isEdit,n=e.onOk,c=e.onCancel,j=Object(d.useState)(!1),v=Object(u.a)(j,2),h=v[0],x=v[1],y=s.a.useForm(),g=Object(u.a)(y,1)[0],E=null===t||void 0===t?void 0:t.isDetail,k=Object(d.useMemo)((function(){return{id:null===t||void 0===t?void 0:t.id}}),[t]);e.ajax.useGet("/user/getUserById",k,[k],{mountFire:a,setLoading:x,formatResult:function(e){e&&g.setFieldsValue(e)}});var w=e.ajax.usePost("/user/addUser",null,{setLoading:x,successTip:"\u521b\u5efa\u6210\u529f\uff01"}).run,C=e.ajax.usePost("/user/updateUserById",null,{setLoading:x,successTip:"\u4fee\u6539\u6210\u529f\uff01"}).run,N=e.ajax.useGet("/user/getOneUser").run,S=Object(d.useCallback)(function(){var e=Object(i.a)(l.a.mark((function e(t){var r,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=null===(r=t.roleIds)||void 0===r?void 0:r.filter((function(e){return!"".concat(e).startsWith("systemId")})),i=Object(o.a)(Object(o.a)({},t),{},{roleIds:c}),!a){e.next=7;break}return e.next=5,C(i);case 5:e.next=9;break;case 7:return e.next=9,w(i);case 9:n();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,C,w,n]),P=Object(b.V)(function(){var e=Object(i.a)(l.a.mark((function e(t,n){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,N({account:n});case 4:if(r=e.sent){e.next=7;break}return e.abrupt("return");case 7:if(c=g.getFieldValue("id"),!a||r.id===c||r.account!==n){e.next=10;break}throw Error("\u8d26\u53f7\u4e0d\u80fd\u91cd\u590d\uff01");case 10:if(a||r.account!==n){e.next=12;break}throw Error("\u8d26\u53f7\u4e0d\u80fd\u91cd\u590d\uff01");case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),T=E,I={labelCol:{flex:"100px"},disabled:T};return Object(p.jsx)(s.a,{form:g,name:"roleEdit",onFinish:S,initialValues:{enabled:!0},children:Object(p.jsxs)(b.k,{loading:h,okText:"\u4fdd\u5b58",okHtmlType:"submit",cancelText:"\u91cd\u7f6e",onCancel:function(){return g.resetFields()},footer:T?Object(p.jsx)(r.a,{onClick:c,children:"\u5173\u95ed"}):void 0,children:[a?Object(p.jsx)(b.e,{hidden:!0,name:"id"}):null,Object(p.jsx)(m.a,{gutter:8,children:Object(p.jsx)(O.a,Object(o.a)(Object(o.a)({},{xs:{span:24},sm:{span:12}}),{},{children:Object(p.jsx)(f.a,{title:"\u57fa\u7840\u4fe1\u606f",children:Object(p.jsxs)(b.c,{fitHeight:!0,otherHeight:160,children:[Object(p.jsx)(b.e,Object(o.a)(Object(o.a)({},I),{},{label:"\u8d26\u53f7",name:"account",required:!0,noSpace:!0,rules:[{validator:P}]})),Object(p.jsx)(b.e,Object(o.a)(Object(o.a)({},I),{},{label:"\u5bc6\u7801",name:"password",required:!0,noSpace:!0})),Object(p.jsx)(b.e,Object(o.a)(Object(o.a)({},I),{},{type:"switch",label:"\u542f\u7528",name:"enabled",checkedChildren:"\u542f",unCheckedChildren:"\u7981",required:!0})),Object(p.jsx)(b.e,Object(o.a)(Object(o.a)({},I),{},{label:"\u59d3\u540d",name:"name",required:!0,noSpace:!0})),Object(p.jsx)(b.e,Object(o.a)(Object(o.a)({},I),{},{label:"\u90ae\u7bb1",name:"email",rules:[b.Y.email()],required:!0,noSpace:!0})),Object(p.jsx)(b.e,Object(o.a)(Object(o.a)({},I),{},{label:"\u624b\u673a\u53f7",name:"mobile",rules:[b.Y.mobile()],required:!0,noSpace:!0}))]})})}))})]})})}));t.default=Object(j.a)({path:"/indexTask/myTask"})((function(e){var t=Object(d.useState)(!1),a=Object(u.a)(t,2),c=a[0],j=a[1],m=Object(d.useState)(1),O=Object(u.a)(m,2),f=O[0],h=O[1],x=Object(d.useState)(20),y=Object(u.a)(x,2),g=y[0],E=y[1],k=Object(d.useState)({}),w=Object(u.a)(k,2),C=w[0],N=w[1],S=Object(d.useState)(!1),P=Object(u.a)(S,2),T=P[0],I=P[1],F=Object(d.useState)(null),q=Object(u.a)(F,2),L=q[0],z=q[1],K=s.a.useForm(),U=Object(u.a)(K,1)[0],B=Object(d.useMemo)((function(){return Object(o.a)(Object(o.a)({},C),{},{pageNum:f,pageSize:g})}),[C,f,g]),D=Object(d.useCallback)((function(){N(U.getFieldsValue())}),[U]),V=e.ajax.useGet("/user/queryUsersByPage",B,[B],{setLoading:j,formatResult:function(e){return{dataSource:(null===e||void 0===e?void 0:e.content)||[],total:(null===e||void 0===e?void 0:e.totalElements)||0}}}).data,_=(V=void 0===V?{}:V).dataSource,M=V.total,G=e.ajax.useDel("/user/:id",null,{setLoading:j,successTip:"\u5220\u9664\u6210\u529f\uff01"}).run,H=[{title:"\u4efb\u52a1\u7f16\u53f7",dataIndex:"account",width:100},{title:"\u4efb\u52a1\u8d1f\u8d23\u4eba",dataIndex:"name",width:100},{title:"\u8054\u7cfb\u4eba",dataIndex:"email",width:100},{title:"\u624b\u673a\u53f7\u7801",dataIndex:"email",width:100},{title:"\u6240\u5c5e\u90e8\u95e8",dataIndex:"email",width:100},{title:"\u662f\u5426\u8fc7\u671f",dataIndex:"email",width:100},{title:"\u64cd\u4f5c",key:"operator",width:150,render:function(e,t){var a=t.id,n=t.name,r=[{label:"\u67e5\u770b",onClick:function(){return z(Object(o.a)(Object(o.a)({},t),{},{isDetail:!0}))||I(!0)}},{label:"\u7f16\u8f91",onClick:function(){return z(t)||I(!0)}},{label:"\u5220\u9664",color:"red",confirm:{title:"\u60a8\u786e\u5b9a\u5220\u9664\u300c".concat(n,"\u300d\u5417\uff1f"),onConfirm:function(){return A(a)}}}];return Object(p.jsx)(b.l,{items:r})}}],A=Object(d.useCallback)(function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t);case 2:D();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[G,D]);return Object(p.jsxs)(b.m,{loading:c,children:[Object(p.jsx)(b.o,{children:Object(p.jsxs)(s.a,{name:"user",layout:"inline",form:U,initialValues:{position:"01"},onFinish:function(e){return h(1)||N(e)},children:[Object(p.jsx)(b.e,Object(o.a)(Object(o.a)({},{style:{width:200}}),{},{label:"\u7f16\u53f7",name:"account"})),Object(p.jsx)(b.e,{children:Object(p.jsxs)(n.b,{children:[Object(p.jsx)(r.a,{type:"primary",htmlType:"submit",children:"\u67e5\u8be2"}),Object(p.jsx)(r.a,{onClick:function(){return U.resetFields()},children:"\u91cd\u7f6e"})]})})]})}),Object(p.jsx)(b.q,{children:Object(p.jsx)(r.a,{type:"primary",onClick:function(){return z(null)||I(!0)},children:"\u65b0\u5efa\u4efb\u52a1"})}),Object(p.jsx)(b.p,{serialNumber:!0,pageNum:f,pageSize:g,fitHeight:!0,dataSource:_,columns:H,rowKey:"id"}),Object(p.jsx)(b.n,{total:M,pageNum:f,pageSize:g,onPageNumChange:h,onPageSizeChange:function(e){return h(1)||E(e)}}),Object(p.jsx)(v,{visible:T,record:L,isEdit:!!L,onOk:function(){return I(!1)||D()},onCancel:function(){return I(!1)}})]})}))},995:function(e,t,a){"use strict";a.r(t);var n=a(49),r=a(15),c={},l=a(1001);l.keys().forEach((function(e){if(!["./index.js"].includes(e)){var t=l(e).default;Object.entries(t).forEach((function(t){var a=Object(n.a)(t,2),r=a[0],l=a[1];if(r in c)throw Error("".concat(e," \u6587\u4ef6\u4e2d key \u300c").concat(r,"\u300d\u5df2\u88ab\u4f7f\u7528\uff01\u8bf7\u66f4\u6362\uff01"));c[r]=l}))}})),Object(r.Z)(c,5e3),t.default=c},996:function(e,t,a){"use strict";a(35),a(510)},997:function(e,t,a){"use strict";a(35),a(510)},998:function(e,t,a){"use strict";var n=a(484);t.a=n.a},999:function(e,t,a){"use strict";var n=a(288);t.a=n.a}}]);
//# sourceMappingURL=4.7df8ac41.chunk.js.map