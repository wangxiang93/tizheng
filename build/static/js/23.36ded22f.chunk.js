(this["webpackJsonp_react-admin"]=this["webpackJsonp_react-admin"]||[]).push([[23],{1010:function(e,a,t){"use strict";t(996);var n=t(998),c=(t(997),t(999)),l=(t(107),t(39)),i=t(5),r=t.n(i),s=t(11),b=t(26),u=(t(369),t(232)),j=t(49),o=t(0),d=t(15),O=t(170),p=t(9);a.a=Object(O.a)({modal:{title:function(e){var a;return null!==e&&void 0!==e&&null!==(a=e.record)&&void 0!==a&&a.isDetail?"\u67e5\u770b\u6307\u6807":e.isEdit?"\u7f16\u8f91\u6307\u6807":"\u65b0\u589e\u6307\u6807"},width:"75%",top:100}})((function(e){var a=e.record,t=e.isEdit,i=e.onOk,O=e.onCancel,x=Object(o.useState)(!1),h=Object(j.a)(x,2),m=h[0],v=h[1],f=u.a.useForm(),g=Object(j.a)(f,1)[0],y=null===a||void 0===a?void 0:a.isDetail,S=(Object(o.useMemo)((function(){return{id:null===a||void 0===a?void 0:a.id}}),[a]),Object(o.useState)(!1)),k=Object(j.a)(S,2),q=k[0],z=k[1],C=Object(b.a)(Object(b.a)({},a),{},{region:(null===a||void 0===a?void 0:a.region.split(","))||(null===a||void 0===a?void 0:a.region)});g.setFieldsValue(C);var w=e.ajax.useGet("/depart/queryListByPage").run,I=Object(o.useState)([]),T=Object(j.a)(I,2),D=T[0],F=T[1];Object(o.useEffect)((function(){Object(s.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:a=e.sent,F((function(){return a.content||[]})),Q(),C.tongjifangshi&&M({target:{value:C.tongjifangshi}});case 6:case"end":return e.stop()}}),e)})))()}),[w]);var E=e.ajax.usePost("/indexTable/save",null,{setLoading:v,successTip:"\u521b\u5efa\u6210\u529f\uff01"}).run,K=e.ajax.usePost("/indexTable/update",null,{setLoading:v,successTip:"\u4fee\u6539\u6210\u529f\uff01"}).run,L=Object(o.useCallback)(function(){var e=Object(s.a)(r.a.mark((function e(a){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(b.a)({},a),!t){e.next=7;break}return console.log(n,"params"),e.next=5,K(n);case 5:e.next=11;break;case 7:return c=Object(b.a)(Object(b.a)({},n),{},{status:"\u5f85\u914d\u7f6e",region:n.region.join()}),console.log(c,"q"),e.next=11,E(c);case 11:i();case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[t,K,E,i]),N=y,P={labelCol:{flex:"140px"},disabled:N};function M(e){"\u5b9e\u65f6"===e.target.value?z(!1):z(!0)}var V=Object(o.useState)([]),B=Object(j.a)(V,2),G=B[0],H=B[1],J=Object(o.useState)([]),R=Object(j.a)(J,2),_=R[0],A=R[1];function Q(e){for(var a=[],t=[],n=1;n<29;n++)n<13&&t.push({label:"\u7b2c"+n+"\u6708",value:"\u7b2c"+n+"\u6708"}),a.push({label:"\u7b2c"+n+"\u65e5",value:"\u7b2c"+n+"\u65e5"});H(a),A(t)}return Object(p.jsx)(u.a,{form:g,name:"roleEdit",onFinish:L,children:Object(p.jsxs)(d.k,{width:300,loading:m,okText:"\u4fdd\u5b58",okHtmlType:"submit",cancelText:"\u53d6\u6d88",onCancel:function(){return O()},footer:N?Object(p.jsx)(l.a,{onClick:O,children:"\u5173\u95ed"}):void 0,children:[t?Object(p.jsx)(d.e,{hidden:!0,name:"id"}):null,Object(p.jsxs)(n.a,{gutter:24,children:[Object(p.jsx)(c.a,{span:11,children:Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({},P),{},{label:"\u6307\u6807\u540d\u79f0",name:"name",required:!0,noSpace:!0}))}),Object(p.jsx)(c.a,{span:11,children:Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({},P),{},{type:"select-tree",label:"\u6307\u6807\u6765\u6e90\u90e8\u95e8",name:"sourceDepart",required:!0,noSpace:!0,fieldKey:"id",fieldNames:{label:"bumengmingcheng",value:"bumengmingcheng",children:"children"},treeData:D}))})," ",Object(p.jsx)(c.a,{span:11,children:Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({},P),{},{label:"\u6307\u6807\u6765\u6e90\u79d1\u5ba4",name:"sourceKeshi",required:!0,noSpace:!0}))})," ",Object(p.jsx)(c.a,{span:11,children:Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({},P),{},{type:"select-tree",label:"\u6307\u6807\u8d1f\u8d23\u90e8\u95e8",name:"fuzeDepart",required:!0,noSpace:!0,fieldKey:"id",fieldNames:{label:"bumengmingcheng",value:"bumengmingcheng",children:"children"},treeData:D}))})," ",Object(p.jsxs)(c.a,{span:11,children:[Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({},P),{},{label:"\u6307\u6807\u8d1f\u8d23\u4eba",required:!0,name:"fuzeren",noSpace:!0}))," "]}),Object(p.jsxs)(c.a,{span:11,children:[Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({},P),{},{label:"\u8d1f\u8d23\u4eba\u8054\u7cfb\u65b9\u5f0f",required:!0,name:"phone",noSpace:!0}))," "]}),Object(p.jsxs)(c.a,{span:11,children:[Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({type:"radio-group"},P),{},{label:"\u7edf\u8ba1\u65b9\u5f0f",required:!0,name:"tongjifangshi",onChange:M,options:[{label:"\u5b9e\u65f6",value:"\u5b9e\u65f6"},{label:"\u5468\u671f",value:"\u5468\u671f"}]}))," "]}),q?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(c.a,{span:11,children:Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({type:"radio-group"},P),{},{label:"\u7edf\u8ba1\u5468\u671f",required:!0,name:"tongjizhouqi",options:[{label:"\u5e74\u5ea6",value:"\u5e74\u5ea6"},{label:"\u534a\u5e74\u5ea6",value:"\u534a\u5e74\u5ea6"},{label:"\u5b63\u5ea6",value:"\u5b63\u5ea6"},{label:"\u6708\u5ea6",value:"\u6708\u5ea6"},{label:"\u5468",value:"\u5468"},{label:"\u65e5",value:"\u65e5"}]}))}),Object(p.jsx)(c.a,{span:11,children:Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({type:"select"},P),{},{label:"\u6bcf\u5e74\u5ea6\u7b2c\u51e0\u4e2a\u6708",required:!0,name:"month",options:_}))}),Object(p.jsxs)(c.a,{span:11,children:[Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({type:"select"},P),{},{label:"\u7b2c\u51e0\u65e5",required:!0,name:"day",options:G}))," "]})]}):null,Object(p.jsxs)(c.a,{span:11,children:[Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({type:"radio-group"},P),{},{label:"\u662f\u5426\u5171\u4eab",required:!0,name:"isShore",options:[{label:"\u662f",value:"\u662f"},{label:"\u5426",value:"\u5426"}]}))," "]}),Object(p.jsx)(c.a,{span:11,children:Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({},P),{},{label:"\u6570\u636e\u5bf9\u63a5\u63a5\u53e3",name:"shujuduijiejiekou",noSpace:!0}))}),Object(p.jsxs)(c.a,{span:11,children:[Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({type:"select"},P),{},{label:"\u6307\u6807\u503c\u5355\u4f4d",required:!0,name:"zhibiaozhidanwei",options:[{label:"\u4e2a",value:"\u4e2a"},{label:"\u5341",value:"\u5341"},{label:"\u767e",value:"\u767e"},{label:"\u5343",value:"\u5343"},{label:"\u4e07",value:"\u4e07"}]}))," "]}),Object(p.jsxs)(c.a,{span:11,children:[Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({type:"select"},P),{},{mode:"multiple",label:"\u5730\u533a\u7ef4\u5ea6",required:!0,name:"region",options:[{label:"\u65e0\u9521\u5e02",value:"\u65e0\u9521\u5e02"},{label:"\u9521\u5c71\u533a",value:"\u9521\u5c71\u533a"},{label:"\u60e0\u5c71\u533a",value:"\u60e0\u5c71\u533a"},{label:"\u6ee8\u6e56\u533a",value:"\u6ee8\u6e56\u533a"},{label:"\u6881\u6eaa\u533a",value:"\u6881\u6eaa\u533a"},{label:"\u65b0\u5434\u533a",value:"\u65b0\u5434\u533a"}]}))," "]}),Object(p.jsx)(c.a,{span:11,children:Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({},P),{},{label:"\u81ea\u5b9a\u4e49\u7ef4\u5ea6",name:"zidingyiweidufenzu",required:!0,noSpace:!0}))}),Object(p.jsxs)(c.a,{span:11,children:[Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({type:"checkbox-group"},P),{},{label:"\u6307\u6807\u914d\u7f6e\u9879",name:"zhibiaopeizhixiang",options:[{label:"\u540c\u6bd4",value:"\u540c\u6bd4"},{label:"\u73af\u6bd4",value:"\u73af\u6bd4"},{label:"\u540c\u6bd4\u589e\u957f",value:"\u540c\u6bd4\u589e\u957f"},{label:"\u73af\u6bd4\u589e\u957f",value:"\u73af\u6bd4\u589e\u957f"}]}))," "]}),Object(p.jsx)(c.a,{span:11,children:Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({},P),{},{label:"\u9884\u8b66\u9608\u503c",name:"yujingyuzhi",required:!0,noSpace:!0}))}),Object(p.jsxs)(c.a,{span:11,children:[Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({type:"textarea"},P),{},{label:"\u6307\u6807\u542b\u4e49",name:"meaning"}))," "]}),Object(p.jsxs)(c.a,{span:11,children:[Object(p.jsx)(d.e,Object(b.a)(Object(b.a)({type:"textarea"},P),{},{label:"\u6307\u6807\u8ba1\u7b97\u903b\u8f91",name:"zhibiaojisuanluoji"}))," "]})]})]})})}))},963:function(e,a,t){"use strict";t.r(a);t(310);var n=t(171),c=(t(107),t(39)),l=t(5),i=t.n(l),r=t(11),s=t(26),b=(t(369),t(232)),u=t(49),j=t(0),o=t(15),d=t(170),O=t(1010),p=t(9);a.default=Object(d.a)({path:"/indexManage/depaIndex"})((function(e){var a=Object(j.useState)(!1),t=Object(u.a)(a,2),l=t[0],d=t[1],x=Object(j.useState)(1),h=Object(u.a)(x,2),m=h[0],v=h[1],f=Object(j.useState)(20),g=Object(u.a)(f,2),y=g[0],S=g[1],k=Object(j.useState)({}),q=Object(u.a)(k,2),z=q[0],C=q[1],w=Object(j.useState)(!1),I=Object(u.a)(w,2),T=I[0],D=I[1],F=Object(j.useState)(null),E=Object(u.a)(F,2),K=E[0],L=E[1],N=b.a.useForm(),P=Object(u.a)(N,1)[0],M=Object(j.useMemo)((function(){return Object(s.a)(Object(s.a)({},z),{},{pageNum:m,pageSize:y})}),[z,m,y]),V=Object(j.useCallback)((function(){C(P.getFieldsValue())}),[P]),B=e.ajax.useGet("/indexTable/queryListByPage",M,[M],{setLoading:d,formatResult:function(e){return{dataSource:(null===e||void 0===e?void 0:e.content)||[],total:(null===e||void 0===e?void 0:e.totalElements)||0}}}).data,G=(B=void 0===B?{}:B).dataSource,H=B.total,J=e.ajax.useDel("/indexTable/:id",null,{setLoading:d,successTip:"\u5220\u9664\u6210\u529f\uff01"}).run;var R=[{title:"\u6307\u6807\u540d\u79f0",dataIndex:"name"},{title:"\u6307\u6807\u72b6\u6001",dataIndex:"status"},{title:"\u6307\u6807\u6765\u6e90\u90e8\u95e8",dataIndex:"sourceDepart"},{title:"\u6307\u6807\u6765\u6e90\u79d1\u5ba4",dataIndex:"sourceKeshi"},{title:"\u6307\u6807\u8d1f\u8d23\u90e8\u95e8",dataIndex:"fuzeDepart"},{title:"\u6307\u6807\u8d1f\u8d23\u4eba",dataIndex:"fuzeren"},{title:"\u8d1f\u8d23\u4eba\u8054\u7cfb\u65b9\u5f0f",dataIndex:"phone"},{title:"\u6307\u6807\u542b\u4e49",dataIndex:"meaning"},{title:"\u7edf\u8ba1\u5468\u671f",dataIndex:"tongjizhouqi"},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"updatedAt"},{title:"\u64cd\u4f5c",key:"operator",width:150,render:function(a,t){var n=t.id,c=t.name,l=[{label:"\u67e5\u770b",onClick:function(){return console.log(e,"props"),void e.history.push({pathname:"/indexManage/myIndex/viewDetails",state:{abc:45}})}},{label:"\u7f16\u8f91",onClick:function(){return L(t)||D(!0)}},{label:"\u5220\u9664",color:"red",confirm:{title:"\u60a8\u786e\u5b9a\u5220\u9664\u300c".concat(c,"\u300d\u5417\uff1f"),onConfirm:function(){return _(n)}}}];return Object(p.jsx)(o.l,{items:l})}}],_=Object(j.useCallback)(function(){var e=Object(r.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(a);case 2:V();case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[J,V]),A={style:{width:200}},Q=Object(j.useState)([]),U=Object(u.a)(Q,2),W=U[0],X=U[1],Y=Object(j.useCallback)((function(e){X(e)}),[]);return Object(p.jsxs)(o.m,{loading:l,children:[Object(p.jsx)(o.o,{children:Object(p.jsxs)(b.a,{name:"indexTable",layout:"inline",form:P,initialValues:{position:"01"},onFinish:function(e){return v(1)||C(e)},children:[Object(p.jsx)(o.e,Object(s.a)(Object(s.a)({},A),{},{label:"\u6307\u6807\u540d\u79f0",name:"name"})),Object(p.jsx)(o.e,Object(s.a)(Object(s.a)({},A),{},{label:"\u8d1f\u8d23\u90e8\u95e8",name:"fuzeDepart"})),Object(p.jsx)(o.e,Object(s.a)(Object(s.a)({},A),{},{label:"\u6307\u6807\u72b6\u6001",name:"status"})),Object(p.jsx)(o.e,{children:Object(p.jsxs)(n.b,{children:[Object(p.jsx)(c.a,{type:"primary",htmlType:"submit",children:"\u67e5\u8be2"}),Object(p.jsx)(c.a,{onClick:function(){return P.resetFields()},children:"\u91cd\u7f6e"})]})})]})}),Object(p.jsxs)(o.q,{children:[Object(p.jsx)(c.a,{type:"primary",onClick:function(){return L(null)||D(!0)},children:"\u65b0\u589e\u6307\u6807"}),Object(p.jsx)(c.a,{danger:!0,onClick:function(){return L(null)||D(!0)},children:"\u6279\u91cf\u5220\u9664"})]}),Object(p.jsx)(o.p,{pageNum:m,pageSize:y,fitHeight:!0,dataSource:G,columns:R,rowSelection:{selectedRowKeys:W,onChange:Y},rowKey:"id"}),Object(p.jsx)(o.n,{total:H,pageNum:m,pageSize:y,onPageNumChange:v,onPageSizeChange:function(e){return v(1)||S(e)}}),Object(p.jsx)(O.a,{visible:T,record:K,isEdit:!!K,onOk:function(){return D(!1)||V()},onCancel:function(){return D(!1)}})]})}))},996:function(e,a,t){"use strict";t(35),t(510)},997:function(e,a,t){"use strict";t(35),t(510)},998:function(e,a,t){"use strict";var n=t(484);a.a=n.a},999:function(e,a,t){"use strict";var n=t(288);a.a=n.a}}]);
//# sourceMappingURL=23.36ded22f.chunk.js.map