(this["webpackJsonp_react-admin"]=this["webpackJsonp_react-admin"]||[]).push([[9],{1003:function(e,t,a){"use strict";a(35),a(1004),a(512),a(996),a(997)},1004:function(e,t,a){},1005:function(e,t,a){"use strict";var n=a(3),c=a(2),r=a(0),i=a(1),l=a.n(i),o=a(33),s=a(85),u=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},d=function(e){var t=e.prefixCls,a=e.className,i=e.hoverable,o=void 0===i||i,d=u(e,["prefixCls","className","hoverable"]);return r.createElement(s.a,null,(function(e){var i=(0,e.getPrefixCls)("card",t),s=l()("".concat(i,"-grid"),a,Object(n.a)({},"".concat(i,"-grid-hoverable"),o));return r.createElement("div",Object(c.a)({},d,{className:s}))}))},b=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},j=function(e){return r.createElement(s.a,null,(function(t){var a=t.getPrefixCls,n=e.prefixCls,i=e.className,o=e.avatar,s=e.title,u=e.description,d=b(e,["prefixCls","className","avatar","title","description"]),j=a("card",n),m=l()("".concat(j,"-meta"),i),O=o?r.createElement("div",{className:"".concat(j,"-meta-avatar")},o):null,p=s?r.createElement("div",{className:"".concat(j,"-meta-title")},s):null,f=u?r.createElement("div",{className:"".concat(j,"-meta-description")},u):null,v=p||f?r.createElement("div",{className:"".concat(j,"-meta-detail")},p,f):null;return r.createElement("div",Object(c.a)({},d,{className:m}),O,v)}))},m=a(311),O=a(998),p=a(999),f=a(34),v=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a};var h=function(e){var t,a,i,u=r.useContext(s.b),b=u.getPrefixCls,j=u.direction,h=r.useContext(f.b),x=e.prefixCls,y=e.className,g=e.extra,E=e.headStyle,C=void 0===E?{}:E,w=e.bodyStyle,k=void 0===w?{}:w,S=e.title,N=e.loading,P=e.bordered,I=void 0===P||P,T=e.size,F=e.type,q=e.cover,z=e.actions,K=e.tabList,L=e.children,B=e.activeTabKey,V=e.defaultActiveTabKey,U=e.tabBarExtraContent,D=e.hoverable,G=e.tabProps,H=void 0===G?{}:G,A=v(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),M=b("card",x),J=0===k.padding||"0px"===k.padding?{padding:24}:void 0,R=r.createElement("div",{className:"".concat(M,"-loading-block")}),Y=r.createElement("div",{className:"".concat(M,"-loading-content"),style:J},r.createElement(O.a,{gutter:8},r.createElement(p.a,{span:22},R)),r.createElement(O.a,{gutter:8},r.createElement(p.a,{span:8},R),r.createElement(p.a,{span:15},R)),r.createElement(O.a,{gutter:8},r.createElement(p.a,{span:6},R),r.createElement(p.a,{span:18},R)),r.createElement(O.a,{gutter:8},r.createElement(p.a,{span:13},R),r.createElement(p.a,{span:9},R)),r.createElement(O.a,{gutter:8},r.createElement(p.a,{span:4},R),r.createElement(p.a,{span:3},R),r.createElement(p.a,{span:16},R))),_=void 0!==B,W=Object(c.a)(Object(c.a)({},H),(t={},Object(n.a)(t,_?"activeKey":"defaultActiveKey",_?B:V),Object(n.a)(t,"tabBarExtraContent",U),t)),Q=K&&K.length?r.createElement(m.a,Object(c.a)({size:"large"},W,{className:"".concat(M,"-head-tabs"),onChange:function(t){var a;null===(a=e.onTabChange)||void 0===a||a.call(e,t)}}),K.map((function(e){return r.createElement(m.a.TabPane,{tab:e.tab,disabled:e.disabled,key:e.key})}))):null;(S||g||Q)&&(i=r.createElement("div",{className:"".concat(M,"-head"),style:C},r.createElement("div",{className:"".concat(M,"-head-wrapper")},S&&r.createElement("div",{className:"".concat(M,"-head-title")},S),g&&r.createElement("div",{className:"".concat(M,"-extra")},g)),Q));var X=q?r.createElement("div",{className:"".concat(M,"-cover")},q):null,Z=r.createElement("div",{className:"".concat(M,"-body"),style:k},N?Y:L),$=z&&z.length?r.createElement("ul",{className:"".concat(M,"-actions")},function(e){return e.map((function(t,a){return r.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(a)},r.createElement("span",null,t))}))}(z)):null,ee=Object(o.a)(A,["onTabChange"]),te=T||h,ae=l()(M,(a={},Object(n.a)(a,"".concat(M,"-loading"),N),Object(n.a)(a,"".concat(M,"-bordered"),I),Object(n.a)(a,"".concat(M,"-hoverable"),D),Object(n.a)(a,"".concat(M,"-contain-grid"),function(){var t;return r.Children.forEach(e.children,(function(e){e&&e.type&&e.type===d&&(t=!0)})),t}()),Object(n.a)(a,"".concat(M,"-contain-tabs"),K&&K.length),Object(n.a)(a,"".concat(M,"-").concat(te),te),Object(n.a)(a,"".concat(M,"-type-").concat(F),!!F),Object(n.a)(a,"".concat(M,"-rtl"),"rtl"===j),a),y);return r.createElement("div",Object(c.a)({},ee,{className:ae}),i,X,Z,$)};h.Grid=d,h.Meta=j;t.a=h},978:function(e,t,a){"use strict";a.r(t);a(310);var n=a(171),c=(a(107),a(39)),r=a(5),i=a.n(r),l=a(11),o=a(26),s=(a(369),a(232)),u=a(49),d=a(0),b=a(15),j=a(170),m=(a(996),a(998)),O=(a(997),a(999)),p=(a(1003),a(1005)),f=a(9),v=Object(j.a)({modal:{title:function(e){var t;return null!==e&&void 0!==e&&null!==(t=e.record)&&void 0!==t&&t.isDetail?"\u67e5\u770b\u7528\u6237":e.isEdit?"\u7f16\u8f91\u7528\u6237":"\u521b\u5efa\u7528\u6237"},width:"70%",top:50}})((function(e){var t=e.record,a=e.isEdit,n=e.onOk,r=e.onCancel,j=Object(d.useState)(!1),v=Object(u.a)(j,2),h=v[0],x=v[1],y=s.a.useForm(),g=Object(u.a)(y,1)[0],E=null===t||void 0===t?void 0:t.isDetail,C=Object(d.useMemo)((function(){return{id:null===t||void 0===t?void 0:t.id}}),[t]);e.ajax.useGet("/user/getUserById",C,[C],{mountFire:a,setLoading:x,formatResult:function(e){e&&g.setFieldsValue(e)}});var w=e.ajax.usePost("/user/addUser",null,{setLoading:x,successTip:"\u521b\u5efa\u6210\u529f\uff01"}).run,k=e.ajax.usePost("/user/updateUserById",null,{setLoading:x,successTip:"\u4fee\u6539\u6210\u529f\uff01"}).run,S=e.ajax.useGet("/user/getOneUser").run,N=Object(d.useCallback)(function(){var e=Object(l.a)(i.a.mark((function e(t){var c,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===(c=t.roleIds)||void 0===c?void 0:c.filter((function(e){return!"".concat(e).startsWith("systemId")})),l=Object(o.a)(Object(o.a)({},t),{},{roleIds:r}),!a){e.next=7;break}return e.next=5,k(l);case 5:e.next=9;break;case 7:return e.next=9,w(l);case 9:n();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,k,w,n]),P=Object(b.V)(function(){var e=Object(l.a)(i.a.mark((function e(t,n){var c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S({account:n});case 4:if(c=e.sent){e.next=7;break}return e.abrupt("return");case 7:if(r=g.getFieldValue("id"),!a||c.id===r||c.account!==n){e.next=10;break}throw Error("\u8d26\u53f7\u4e0d\u80fd\u91cd\u590d\uff01");case 10:if(a||c.account!==n){e.next=12;break}throw Error("\u8d26\u53f7\u4e0d\u80fd\u91cd\u590d\uff01");case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),I=E,T={labelCol:{flex:"100px"},disabled:I};return Object(f.jsx)(s.a,{form:g,name:"roleEdit",onFinish:N,initialValues:{enabled:!0},children:Object(f.jsxs)(b.k,{loading:h,okText:"\u4fdd\u5b58",okHtmlType:"submit",cancelText:"\u91cd\u7f6e",onCancel:function(){return g.resetFields()},footer:I?Object(f.jsx)(c.a,{onClick:r,children:"\u5173\u95ed"}):void 0,children:[a?Object(f.jsx)(b.e,{hidden:!0,name:"id"}):null,Object(f.jsx)(m.a,{gutter:8,children:Object(f.jsx)(O.a,Object(o.a)(Object(o.a)({},{xs:{span:24},sm:{span:12}}),{},{children:Object(f.jsx)(p.a,{title:"\u57fa\u7840\u4fe1\u606f",children:Object(f.jsxs)(b.c,{fitHeight:!0,otherHeight:160,children:[Object(f.jsx)(b.e,Object(o.a)(Object(o.a)({},T),{},{label:"\u8d26\u53f7",name:"account",required:!0,noSpace:!0,rules:[{validator:P}]})),Object(f.jsx)(b.e,Object(o.a)(Object(o.a)({},T),{},{label:"\u5bc6\u7801",name:"password",required:!0,noSpace:!0})),Object(f.jsx)(b.e,Object(o.a)(Object(o.a)({},T),{},{type:"switch",label:"\u542f\u7528",name:"enabled",checkedChildren:"\u542f",unCheckedChildren:"\u7981",required:!0})),Object(f.jsx)(b.e,Object(o.a)(Object(o.a)({},T),{},{label:"\u59d3\u540d",name:"name",required:!0,noSpace:!0})),Object(f.jsx)(b.e,Object(o.a)(Object(o.a)({},T),{},{label:"\u90ae\u7bb1",name:"email",rules:[b.Y.email()],required:!0,noSpace:!0})),Object(f.jsx)(b.e,Object(o.a)(Object(o.a)({},T),{},{label:"\u624b\u673a\u53f7",name:"mobile",rules:[b.Y.mobile()],required:!0,noSpace:!0}))]})})}))})]})})}));t.default=Object(j.a)({path:"/indexTask/taskPublish"})((function(e){var t=Object(d.useState)(!1),a=Object(u.a)(t,2),r=a[0],j=a[1],m=Object(d.useState)(1),O=Object(u.a)(m,2),p=O[0],h=O[1],x=Object(d.useState)(20),y=Object(u.a)(x,2),g=y[0],E=y[1],C=Object(d.useState)({}),w=Object(u.a)(C,2),k=w[0],S=w[1],N=Object(d.useState)(!1),P=Object(u.a)(N,2),I=P[0],T=P[1],F=Object(d.useState)(null),q=Object(u.a)(F,2),z=q[0],K=q[1],L=s.a.useForm(),B=Object(u.a)(L,1)[0],V=Object(d.useMemo)((function(){return Object(o.a)(Object(o.a)({},k),{},{pageNum:p,pageSize:g})}),[k,p,g]),U=Object(d.useCallback)((function(){S(B.getFieldsValue())}),[B]),D=e.ajax.useGet("/user/queryUsersByPage",V,[V],{setLoading:j,formatResult:function(e){return{dataSource:(null===e||void 0===e?void 0:e.content)||[],total:(null===e||void 0===e?void 0:e.totalElements)||0}}}).data,G=(D=void 0===D?{}:D).dataSource,H=D.total,A=e.ajax.useDel("/user/:id",null,{setLoading:j,successTip:"\u5220\u9664\u6210\u529f\uff01"}).run,M=[{title:"\u4efb\u52a1\u540d\u79f0",dataIndex:"account",width:100},{title:"\u4efb\u52a1\u7c7b\u578b",dataIndex:"account",width:100},{title:"\u4efb\u52a1\u72b6\u6001",dataIndex:"name",width:100},{title:"\u5173\u8054\u6307\u6807",dataIndex:"email",width:100},{title:"\u8d1f\u8d23\u90e8\u95e8",dataIndex:"email",width:100},{title:"\u8d1f\u8d23\u4eba",dataIndex:"email",width:100},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"email",width:100},{title:"\u622a\u6b62\u65f6\u95f4",dataIndex:"email",width:100},{title:"\u64cd\u4f5c",key:"operator",width:150,render:function(e,t){var a=t.id,n=t.name,c=[{label:"\u67e5\u770b",onClick:function(){return K(Object(o.a)(Object(o.a)({},t),{},{isDetail:!0}))||T(!0)}},{label:"\u7f16\u8f91",onClick:function(){return K(t)||T(!0)}},{label:"\u5220\u9664",color:"red",confirm:{title:"\u60a8\u786e\u5b9a\u5220\u9664\u300c".concat(n,"\u300d\u5417\uff1f"),onConfirm:function(){return J(a)}}}];return Object(f.jsx)(b.l,{items:c})}}],J=Object(d.useCallback)(function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:U();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[A,U]);return Object(f.jsxs)(b.m,{loading:r,children:[Object(f.jsx)(b.o,{children:Object(f.jsxs)(s.a,{name:"user",layout:"inline",form:B,initialValues:{position:"01"},onFinish:function(e){return h(1)||S(e)},children:[Object(f.jsx)(b.e,Object(o.a)(Object(o.a)({},{style:{width:200}}),{},{label:"\u7f16\u53f7",name:"account"})),Object(f.jsx)(b.e,{children:Object(f.jsxs)(n.b,{children:[Object(f.jsx)(c.a,{type:"primary",htmlType:"submit",children:"\u67e5\u8be2"}),Object(f.jsx)(c.a,{onClick:function(){return B.resetFields()},children:"\u91cd\u7f6e"})]})})]})}),Object(f.jsx)(b.q,{children:Object(f.jsx)(c.a,{type:"primary",onClick:function(){return K(null)||T(!0)},children:"\u65b0\u5efa\u4efb\u52a1"})}),Object(f.jsx)(b.p,{serialNumber:!0,pageNum:p,pageSize:g,fitHeight:!0,dataSource:G,columns:M,rowKey:"id"}),Object(f.jsx)(b.n,{total:H,pageNum:p,pageSize:g,onPageNumChange:h,onPageSizeChange:function(e){return h(1)||E(e)}}),Object(f.jsx)(v,{visible:I,record:z,isEdit:!!z,onOk:function(){return T(!1)||U()},onCancel:function(){return T(!1)}})]})}))},996:function(e,t,a){"use strict";a(35),a(510)},997:function(e,t,a){"use strict";a(35),a(510)},998:function(e,t,a){"use strict";var n=a(484);t.a=n.a},999:function(e,t,a){"use strict";var n=a(288);t.a=n.a}}]);
//# sourceMappingURL=9.a1d15a69.chunk.js.map