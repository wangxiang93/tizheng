{"version":3,"sources":["options sync nonrecursive /.js$","options/system.js","pages/warningManage/historyMange/EditModal.jsx","pages/warningManage/historyMange/index.jsx","options/index.js","../node_modules/antd/es/row/style/index.js","../node_modules/antd/es/col/style/index.js","../node_modules/antd/es/row/index.js","../node_modules/antd/es/col/index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","menuTarget","value","label","yesNo","tag","color","enabled","sex","system","ajax","get","list","item","title","meta","action","config","modal","props","record","isDetail","isEdit","width","top","onOk","onCancel","useState","loading","setLoading","useForm","form","params","useMemo","useGet","mountFire","formatResult","res","setFieldsValue","save","usePost","successTip","run","update","fetchUserByAccount","handleSubmit","useCallback","values","a","roleIds","filter","startsWith","checkAccount","useDebounceValidator","rule","account","user","getFieldValue","disabled","layout","labelCol","flex","name","onFinish","initialValues","okText","okHtmlType","cancelText","footer","onClick","undefined","hidden","gutter","span","required","noSpace","rules","validator","type","path","pageNum","setPageNum","pageSize","setPageSize","conditions","setConditions","visible","setVisible","setRecord","refreshSearch","getFieldsValue","dataSource","content","total","totalElements","data","deleteRecord","useDel","columns","dataIndex","render","options","getTag","key","items","confirm","onConfirm","handleDelete","queryItem","style","selectedRowKeys","setSelectedRowKeys","handleSelectedRowKeysChange","position","htmlType","resetFields","serialNumber","fitHeight","rowSelection","onChange","rowKey","onPageNumChange","onPageSizeChange","EditModal","result","require","forEach","includes","default","entries","k","wrapperOptions","Row","Col"],"mappings":"yGAAA,IAAIA,EAAM,CACT,aAAc,IACd,cAAe,MAIhB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,M,uGCNL,WAEXY,WAAY,CACR,CAAEC,MAAO,OAAQC,MAAO,4BACxB,CAAED,MAAO,UAAWC,MAAO,kCAC3B,CAAED,MAAO,SAAUC,MAAO,wCAC1B,CAAED,MAAO,QAASC,MAAO,0DACzB,CAAED,MAAO,SAAUC,MAAO,2DAG9BC,MAAO,CACH,CAAEF,OAAO,EAAMC,MAAO,SAAKE,IAAK,mBAAKC,MAAM,QAAX,qBAChC,CAAEJ,OAAO,EAAOC,MAAO,SAAKE,IAAK,mBAAKC,MAAM,MAAX,sBAGrCC,QAAS,CACL,CAAEL,OAAO,EAAMC,MAAO,eAAME,IAAK,mBAAKC,MAAM,QAAX,2BACjC,CAAEJ,OAAO,EAAOC,MAAO,eAAME,IAAK,mBAAKC,MAAM,MAAX,4BAGtCE,IAAK,CACD,CAAEN,MAAO,IAAKC,MAAO,UACrB,CAAED,MAAO,IAAKC,MAAO,UACrB,CAAED,MAAO,IAAKC,MAAO,iBAGnBM,OA1BK,WA0BK,OAAD,0HACQC,IAAKC,IAAI,uBADjB,cACLC,EADK,yBAEJA,EAAK1B,KAAI,SAAC2B,GACb,MAAO,CACHX,MAAOW,EAAKxB,GACZc,MAAOU,EAAKC,MACZC,KAAMF,OANH,8CAUfG,OApCW,WAqCP,MAAO,CAAC,CAAEd,MAAO,MAAOC,MAAO,kBAInC,WACI,MAAO,M,mNCtDAc,cAAO,CAClBC,MAAO,CACHJ,MAAO,SAACK,GAAW,IAAD,EACd,cAAIA,QAAJ,IAAIA,GAAJ,UAAIA,EAAOC,cAAX,OAAI,EAAeC,SAAiB,2BAE7BF,EAAMG,OAAS,2BAAS,4BAEnCC,MAAO,MACPC,IAAK,KAREP,EAUZ,SAAcE,GAAQ,IACbC,EAAmCD,EAAnCC,OAAQE,EAA2BH,EAA3BG,OAAQG,EAAmBN,EAAnBM,KAAMC,EAAaP,EAAbO,SADV,EAEUC,oBAAS,GAFnB,mBAEbC,EAFa,KAEJC,EAFI,OAGL,IAAKC,UAAbC,EAHa,oBAIdV,EAAQ,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAQC,SAEnBW,EAASC,mBAAQ,WACnB,MAAO,CAAE5C,GAAE,OAAE+B,QAAF,IAAEA,OAAF,EAAEA,EAAQ/B,MACtB,CAAC+B,IAGJD,EAAMT,KAAKwB,OAAO,oBAAqBF,EAAQ,CAACA,GAAS,CACrDG,UAAWb,EACXO,aACAO,aAAc,SAACC,GACNA,GACLN,EAAKO,eAAeD,MAhBR,IAmBPE,EAASpB,EAAMT,KAAK8B,QAAQ,gBAAiB,KAAM,CAAEX,aAAYY,WAAY,mCAAlFC,IACKC,EAAWxB,EAAMT,KAAK8B,QAAQ,uBAAwB,KAAM,CAAEX,aAAYY,WAAY,mCAA3FC,IACKE,EAAuBzB,EAAMT,KAAKwB,OAAO,oBAA9CQ,IAEFG,EAAeC,sBAAW,uCAC5B,WAAOC,GAAP,mBAAAC,EAAA,yDACUC,EADV,UACoBF,EAAOE,eAD3B,aACoB,EAAgBC,QAAO,SAAC7D,GAAD,OAAS,UAAGA,GAAK8D,WAAW,eAC7DnB,EAFV,2BAGWe,GAHX,IAIQE,aAGA3B,EAPR,gCAQcqB,EAAOX,GARrB,6CAUcO,EAAKP,GAVnB,OAaIP,IAbJ,4CAD4B,sDAgB5B,CAACH,EAAQqB,EAAQJ,EAAMd,IAGrB2B,EAAeC,YAAoB,uCAAC,WAAOC,EAAMpD,GAAb,iBAAA8C,EAAA,yDACjC9C,EADiC,iEAGnB0C,EAAmB,CAAEW,QAASrD,IAHX,UAGhCsD,EAHgC,2DAMhCnE,EAAK0C,EAAK0B,cAAc,OAC1BnC,GAAUkC,EAAKnE,KAAOA,GAAMmE,EAAKD,UAAYrD,EAPX,uBAOwBR,MAAM,8CAP9B,WAQjC4B,GAAUkC,EAAKD,UAAYrD,EARM,uBAQOR,MAAM,8CARb,4CAAD,yDAWnCgE,EAAWrC,EACXsC,EAAS,CACXC,SAAU,CAAEC,KAAM,SAClBH,YAMJ,OACI,mBAAM3B,KAAMA,EAAM+B,KAAK,WAAWC,SAAUlB,EAAcmB,cAAe,CAAEzD,SAAS,GAApF,SACI,eAAC,IAAD,CACIqB,QAASA,EACTqC,OAAO,eACPC,WAAW,SACXC,WAAW,eACXzC,SAAU,kBAAMA,KAChB0C,OAAQV,EAAW,mBAAQW,QAAS3C,EAAjB,+BAAyC4C,EANhE,UAQKhD,EAAS,cAAC,IAAD,CAAUiD,QAAM,EAACT,KAAK,OAAU,KAC1C,oBAAKU,OAAQ,GAAb,UACI,mBAAKC,KAAM,GAAX,SACI,cAAC,IAAD,2BACQd,GADR,IAEIxD,MAAM,2BACN2D,KAAK,UACLY,UAAQ,EACRC,SAAO,EACPC,MAAO,CAAC,CAAEC,UAAWzB,SAG7B,mBAAKqB,KAAM,GAAX,SACI,cAAC,IAAD,2BACQd,GADR,IAEIxD,MAAM,2BACN2D,KAAK,UACLY,UAAQ,EACRC,SAAO,EACPC,MAAO,CAAC,CAAEC,UAAWzB,SAG7B,mBAAKqB,KAAM,GAAX,SACI,cAAC,IAAD,2BACQd,GADR,IAEIxD,MAAM,mDACN2D,KAAK,UACLY,UAAQ,EACRC,SAAO,EACPC,MAAO,CAAC,CAAEC,UAAWzB,SAG7B,mBAAKqB,KAAM,GAAX,SACI,cAAC,IAAD,2BACQd,GADR,IAEIxD,MAAM,qBACN2D,KAAK,UACLY,UAAQ,EACRC,SAAO,EACPC,MAAO,CAAC,CAAEC,UAAWzB,SAG7B,mBAAKqB,KAAM,GAAX,SACI,cAAC,IAAD,2BACQd,GADR,IAEIxD,MAAM,iCACN2D,KAAK,UACLY,UAAQ,EACRC,SAAO,EACPC,MAAO,CAAC,CAAEC,UAAWzB,SAG7B,mBAAKqB,KAAM,GAAX,SACI,cAAC,IAAD,2BACQd,GADR,IAEIxD,MAAM,eACN2D,KAAK,UACLY,UAAQ,EACRC,SAAO,EACPC,MAAO,CAAC,CAAEC,UAAWzB,SAI7B,mBAAKqB,KAAM,GAAX,SACI,cAAC,IAAD,2BACQd,GADR,IAEIxD,MAAM,qBACN2D,KAAK,UACLY,UAAQ,EACRC,SAAO,EACPC,MAAO,CAAC,CAAEC,UAAWzB,SAG7B,mBAAKqB,KAAM,GAAX,SACI,cAAC,IAAD,2BACQd,GADR,IAEIxD,MAAM,eACN2D,KAAK,UACLY,UAAQ,EACRC,SAAO,EACPC,MAAO,CAAC,CAAEC,UAAWzB,SAG7B,mBAAKqB,KAAM,GAAX,SACI,cAAC,IAAD,2BACQd,GADR,IAEIxD,MAAM,iCACN2D,KAAK,UACLY,UAAQ,EACRC,SAAO,EACPC,MAAO,CAAC,CAAEC,UAAWzB,SAG7B,mBAAKqB,KAAM,GAAX,SACI,cAAC,IAAD,2BACQd,GADR,IAEIxD,MAAM,2BACN2D,KAAK,UACLY,UAAQ,EACRC,SAAO,EACPC,MAAO,CAAC,CAAEC,UAAWzB,SAG7B,mBAAKqB,KAAM,GAAX,SACI,cAAC,IAAD,2BACQd,GADR,IAEIxD,MAAM,eACN2D,KAAK,UACLgB,KAAK,WACLJ,UAAQ,EACRC,SAAO,EACPC,MAAO,CAAC,CAAEC,UAAWzB,oBC/LlCnC,sBAAO,CAClB8D,KAAM,+BADK9D,EAEZ,SAAcE,GAAQ,IAAD,EACUQ,oBAAS,GADnB,mBACbC,EADa,KACJC,EADI,OAEUF,mBAAS,GAFnB,mBAEbqD,EAFa,KAEJC,EAFI,OAGYtD,mBAAS,IAHrB,mBAGbuD,EAHa,KAGHC,EAHG,OAIgBxD,mBAAS,IAJzB,mBAIbyD,EAJa,KAIDC,EAJC,OAKU1D,oBAAS,GALnB,mBAKb2D,EALa,KAKJC,EALI,OAMQ5D,mBAAS,MANjB,mBAMbP,EANa,KAMLoE,EANK,OAOL,IAAK1D,UAAbC,EAPa,oBASdC,EAASC,mBAAQ,WACnB,OAAO,2BACAmD,GADP,IAEIJ,UACAE,eAEL,CAACE,EAAYJ,EAASE,IAGnBO,EAAgB3C,uBAAY,WAC9BuC,EAActD,EAAK2D,oBACpB,CAAC3D,IApBgB,EAuByBZ,EAAMT,KAAKwB,OAAO,yBAA0BF,EAAQ,CAACA,GAAS,CACvGH,aACAO,aAAc,SAACC,GACX,MAAO,CACHsD,YAAe,OAAHtD,QAAG,IAAHA,OAAA,EAAAA,EAAKuD,UAAW,GAC5BC,OAAU,OAAHxD,QAAG,IAAHA,OAAA,EAAAA,EAAKyD,gBAAiB,MALjCC,KAAQJ,GAvBI,aAuBkB,GAvBlB,GAuBJA,WAAYE,EAvBR,EAuBQA,MAWfG,EAAiB7E,EAAMT,KAAKuF,OAAO,YAAa,KAAM,CAAEpE,aAAYY,WAAY,mCAArFC,IAEFwD,EAAU,CACZ,CAAEpF,MAAO,iBAAQqF,UAAW,WAC5B,CAAErF,MAAO,iCAASqF,UAAW,QAC7B,CAAErF,MAAO,2BAAQqF,UAAW,UAAWC,OAAQ,SAAClG,GAAD,OAAWmG,UAAQ9F,QAAQ+F,SAASpG,KACnF,CAAEY,MAAO,2BAAQqF,UAAW,UAC5B,CAAErF,MAAO,2BAAQqF,UAAW,SAC5B,CAAErF,MAAO,2BAAQqF,UAAW,SAC5B,CACIrF,MAAO,eACPyF,IAAK,WACLhF,MAAO,IACP6E,OAAQ,SAAClG,EAAOkB,GAAY,IAChB/B,EAAa+B,EAAb/B,GAAIyE,EAAS1C,EAAT0C,KACN0C,EAAQ,CACV,CACIrG,MAAO,eACPkE,QAAS,kBAAMmB,EAAU,2BAAKpE,GAAN,IAAcC,UAAU,MAAWkE,GAAW,KAE1E,CACIpF,MAAO,eACPkE,QAAS,kBAAMmB,EAAUpE,IAAWmE,GAAW,KAEnD,CACIpF,MAAO,eACPG,MAAO,MACPmG,QAAS,CACL3F,MAAM,uCAAD,OAAWgD,EAAX,sBACL4C,UAAW,kBAAMC,EAAatH,OAK1C,OAAO,cAAC,IAAD,CAAUmH,MAAOA,OAK9BG,EAAe7D,sBAAW,uCAC5B,WAAOzD,GAAP,SAAA2D,EAAA,sEACUgD,EAAa3G,GADvB,OAGIoG,IAHJ,2CAD4B,sDAM5B,CAACO,EAAcP,IAGbmB,EAAY,CACdC,MAAO,CAAEtF,MAAO,MAnFA,EAyF0BI,mBAAS,IAzFnC,mBAyFbmF,EAzFa,KAyFIC,EAzFJ,KA0FdC,EAA8BlE,uBAAY,SAACgE,GAC7CC,EAAmBD,KACpB,IAEH,OACI,eAAC,IAAD,CAAalF,QAASA,EAAtB,UACI,cAAC,IAAD,UACI,oBACIkC,KAAK,OACLH,OAAO,SACP5B,KAAMA,EACNiC,cAAe,CAAEiD,SAAU,MAC3BlD,SAAU,SAAChB,GAAD,OAAYkC,EAAW,IAAMI,EAActC,IALzD,UAOI,cAAC,IAAD,2BAAc6D,GAAd,IAAyBzG,MAAM,2BAAO2D,KAAK,gBAC3C,cAAC,IAAD,2BAAc8C,GAAd,IAAyBzG,MAAM,2BAAO2D,KAAK,kBAE3C,cAAC,IAAD,UACI,8BACI,mBAAQgB,KAAK,UAAUoC,SAAS,SAAhC,0BAGA,mBAAQ7C,QAAS,kBAAMtC,EAAKoF,eAA5B,oCAKhB,cAAC,IAAD,UACI,mBAAQrC,KAAK,UAAUT,QAAS,kBAAMmB,EAAU,OAASD,GAAW,IAApE,wCAOJ,cAAC,IAAD,CACI6B,cAAY,EACZpC,QAASA,EACTE,SAAUA,EACVmC,WAAS,EACT1B,WAAYA,EACZO,QAASA,EACToB,aAAc,CACVR,gBAAiBA,EACjBS,SAAUP,GAEdQ,OAAO,OAEX,cAAC,IAAD,CACI3B,MAAOA,EACPb,QAASA,EACTE,SAAUA,EACVuC,gBAAiBxC,EACjByC,iBAAkB,SAACxC,GAAD,OAAcD,EAAW,IAAME,EAAYD,MAEjE,cAACyC,EAAD,CACIrC,QAASA,EACTlE,OAAQA,EACRE,SAAUF,EACVK,KAAM,kBAAM8D,GAAW,IAAUE,KACjC/D,SAAU,kBAAM6D,GAAW,a,4DC1JrCqC,EAAS,GAGTxI,EAAMyI,QACZzI,EAAIQ,OAAOkI,SAAQ,SAACvB,GAChB,IAAI,CAAC,cAAcwB,SAASxB,GAA5B,CAEA,IAEMF,EAFQjH,EAAImH,GAEIyB,QACtBnI,OAAOoI,QAAQ5B,GAASyB,SAAQ,YAAiB,IAAD,mBAAdI,EAAc,KAAXhI,EAAW,KAC5C,GAAIgI,KAAKN,EAAQ,MAAMlI,MAAM,GAAD,OAAI6G,EAAJ,yCAAoB2B,EAApB,iEAC5BN,EAAOM,GAAKhI,SAIpBiI,YAAeP,EAAQ,KAERA,a,iCCvBf,c,iCCAA,c,iCCAA,aACeQ,MAAf,G,iCCDA,aACeC,MAAf","file":"static/js/15.8573bece.chunk.js","sourcesContent":["var map = {\n\t\"./index.js\": 995,\n\t\"./system.js\": 1002\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1001;","import { Tag } from 'antd';\r\nimport ajax from 'src/commons/ajax';\r\n\r\n/**\r\n * 项目中可能用到的一些枚举类数据\r\n * 约定只含有三个参数，\r\n * {\r\n *  value: 1,      // 必须且不可重复\r\n *  label: '名称', // 必须\r\n *  meta: {},     // 其他数据，可缺省\r\n *  tag: Tag      // 标签\r\n * };\r\n *\r\n * // 扩展方法\r\n * options.menuTarget.getLabel('menu')\r\n * options.yesNo.getTag(true);\r\n * */\r\nexport default {\r\n    // 菜单目标\r\n    menuTarget: [\r\n        { value: 'menu', label: '应用菜单' },\r\n        { value: 'qiankun', label: '乾坤子应用' },\r\n        { value: 'iframe', label: 'iframe内嵌第三方' },\r\n        { value: '_self', label: '当前窗口打开第三方' },\r\n        { value: '_blank', label: '新开窗口打开第三方' },\r\n    ],\r\n    // 是否\r\n    yesNo: [\r\n        { value: true, label: '是', tag: <Tag color=\"green\">是</Tag> },\r\n        { value: false, label: '否', tag: <Tag color=\"red\">否</Tag> },\r\n    ],\r\n    // 启用、禁用\r\n    enabled: [\r\n        { value: true, label: '启用', tag: <Tag color=\"green\">启用</Tag> },\r\n        { value: false, label: '禁用', tag: <Tag color=\"red\">禁用</Tag> },\r\n    ],\r\n    // 性别\r\n    sex: [\r\n        { value: '1', label: '男' },\r\n        { value: '2', label: '女' },\r\n        { value: '3', label: '未知' },\r\n    ],\r\n    // 可以是函数，异步或同步都可以\r\n    async system() {\r\n        const list = await ajax.get('/menu/queryTopMenus');\r\n        return list.map((item) => {\r\n            return {\r\n                value: item.id,\r\n                label: item.title,\r\n                meta: item,\r\n            };\r\n        });\r\n    },\r\n    action() {\r\n        return [{ value: 'add', label: '添加' }];\r\n        // throw Error('获取失败了');\r\n    },\r\n    // 使用 get\r\n    get demo() {\r\n        return [];\r\n    },\r\n};\r\n","import { useCallback, useMemo, useState } from 'react';\r\nimport { Form, Row, Col, Card, Button } from 'antd';\r\nimport { ModalContent, FormItem, Content, validateRules, useDebounceValidator } from '@ra-lib/admin';\r\nimport config from 'src/commons/config-hoc';\r\n\r\nexport default config({\r\n    modal: {\r\n        title: (props) => {\r\n            if (props?.record?.isDetail) return '查看告警';\r\n\r\n            return props.isEdit ? '编辑告警' : '新增告警';\r\n        },\r\n        width: '70%',\r\n        top: 50,\r\n    },\r\n})(function Edit(props) {\r\n    const { record, isEdit, onOk, onCancel } = props;\r\n    const [loading, setLoading] = useState(false);\r\n    const [form] = Form.useForm();\r\n    const isDetail = record?.isDetail;\r\n\r\n    const params = useMemo(() => {\r\n        return { id: record?.id };\r\n    }, [record]);\r\n\r\n    // 编辑时，查询详情数据\r\n    props.ajax.useGet('/user/getUserById', params, [params], {\r\n        mountFire: isEdit,\r\n        setLoading,\r\n        formatResult: (res) => {\r\n            if (!res) return;\r\n            form.setFieldsValue(res);\r\n        },\r\n    });\r\n    const { run: save } = props.ajax.usePost('/user/addUser', null, { setLoading, successTip: '创建成功！' });\r\n    const { run: update } = props.ajax.usePost('/user/updateUserById', null, { setLoading, successTip: '修改成功！' });\r\n    const { run: fetchUserByAccount } = props.ajax.useGet('/user/getOneUser');\r\n\r\n    const handleSubmit = useCallback(\r\n        async (values) => {\r\n            const roleIds = values.roleIds?.filter((id) => !`${id}`.startsWith('systemId'));\r\n            const params = {\r\n                ...values,\r\n                roleIds,\r\n            };\r\n\r\n            if (isEdit) {\r\n                await update(params);\r\n            } else {\r\n                await save(params);\r\n            }\r\n\r\n            onOk();\r\n        },\r\n        [isEdit, update, save, onOk],\r\n    );\r\n\r\n    const checkAccount = useDebounceValidator(async (rule, value) => {\r\n        if (!value) return;\r\n\r\n        const user = await fetchUserByAccount({ account: value });\r\n        if (!user) return;\r\n\r\n        const id = form.getFieldValue('id');\r\n        if (isEdit && user.id !== id && user.account === value) throw Error('账号不能重复！');\r\n        if (!isEdit && user.account === value) throw Error('账号不能重复！');\r\n    });\r\n\r\n    const disabled = isDetail;\r\n    const layout = {\r\n        labelCol: { flex: '140px' },\r\n        disabled,\r\n    };\r\n    const colLayout = {\r\n        xs: { span: 24 },\r\n        sm: { span: 12 },\r\n    };\r\n    return (\r\n        <Form form={form} name=\"roleEdit\" onFinish={handleSubmit} initialValues={{ enabled: true }}>\r\n            <ModalContent\r\n                loading={loading}\r\n                okText=\"保存\"\r\n                okHtmlType=\"submit\"\r\n                cancelText=\"取消\"\r\n                onCancel={() => onCancel()}\r\n                footer={disabled ? <Button onClick={onCancel}>关闭</Button> : undefined}\r\n            >\r\n                {isEdit ? <FormItem hidden name=\"id\" /> : null}\r\n                <Row gutter={24}>\r\n                    <Col span={11}>\r\n                        <FormItem\r\n                            {...layout}\r\n                            label=\"客户编码\"\r\n                            name=\"account\"\r\n                            required\r\n                            noSpace\r\n                            rules={[{ validator: checkAccount }]}\r\n                        />\r\n                    </Col>\r\n                    <Col span={11}>\r\n                        <FormItem\r\n                            {...layout}\r\n                            label=\"客户名称\"\r\n                            name=\"account\"\r\n                            required\r\n                            noSpace\r\n                            rules={[{ validator: checkAccount }]}\r\n                        />\r\n                    </Col>\r\n                    <Col span={11}>\r\n                        <FormItem\r\n                            {...layout}\r\n                            label=\"统一社会信用代码\"\r\n                            name=\"account\"\r\n                            required\r\n                            noSpace\r\n                            rules={[{ validator: checkAccount }]}\r\n                        />\r\n                    </Col>\r\n                    <Col span={11}>\r\n                        <FormItem\r\n                            {...layout}\r\n                            label=\"手机号\"\r\n                            name=\"account\"\r\n                            required\r\n                            noSpace\r\n                            rules={[{ validator: checkAccount }]}\r\n                        />\r\n                    </Col>\r\n                    <Col span={11}>\r\n                        <FormItem\r\n                            {...layout}\r\n                            label=\"证据有效期\"\r\n                            name=\"account\"\r\n                            required\r\n                            noSpace\r\n                            rules={[{ validator: checkAccount }]}\r\n                        />\r\n                    </Col>\r\n                    <Col span={11}>\r\n                        <FormItem\r\n                            {...layout}\r\n                            label=\"行业\"\r\n                            name=\"account\"\r\n                            required\r\n                            noSpace\r\n                            rules={[{ validator: checkAccount }]}\r\n                        />\r\n                    </Col>\r\n\r\n                    <Col span={11}>\r\n                        <FormItem\r\n                            {...layout}\r\n                            label=\"联系人\"\r\n                            name=\"account\"\r\n                            required\r\n                            noSpace\r\n                            rules={[{ validator: checkAccount }]}\r\n                        />\r\n                    </Col>\r\n                    <Col span={11}>\r\n                        <FormItem\r\n                            {...layout}\r\n                            label=\"邮箱\"\r\n                            name=\"account\"\r\n                            required\r\n                            noSpace\r\n                            rules={[{ validator: checkAccount }]}\r\n                        />\r\n                    </Col>\r\n                    <Col span={11}>\r\n                        <FormItem\r\n                            {...layout}\r\n                            label=\"关联业务员\"\r\n                            name=\"account\"\r\n                            required\r\n                            noSpace\r\n                            rules={[{ validator: checkAccount }]}\r\n                        />\r\n                    </Col>\r\n                    <Col span={11}>\r\n                        <FormItem\r\n                            {...layout}\r\n                            label=\"客户类型\"\r\n                            name=\"account\"\r\n                            required\r\n                            noSpace\r\n                            rules={[{ validator: checkAccount }]}\r\n                        />\r\n                    </Col>\r\n                    <Col span={22}>\r\n                        <FormItem\r\n                            {...layout}\r\n                            label=\"地址\"\r\n                            name=\"account\"\r\n                            type=\"textarea\"\r\n                            required\r\n                            noSpace\r\n                            rules={[{ validator: checkAccount }]}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n            </ModalContent>\r\n        </Form>\r\n    );\r\n});\r\n","import { useState, useMemo, useCallback } from 'react';\r\nimport { Button, Form, Space } from 'antd';\r\nimport { PageContent, QueryBar, FormItem, Table, Pagination, Operator, ToolBar } from '@ra-lib/admin';\r\nimport config from 'src/commons/config-hoc';\r\nimport options from 'src/options';\r\nimport EditModal from './EditModal';\r\n\r\nexport default config({\r\n    path: '/warningManage/historyMange',\r\n})(function User(props) {\r\n    const [loading, setLoading] = useState(false);\r\n    const [pageNum, setPageNum] = useState(1);\r\n    const [pageSize, setPageSize] = useState(20);\r\n    const [conditions, setConditions] = useState({});\r\n    const [visible, setVisible] = useState(false);\r\n    const [record, setRecord] = useState(null);\r\n    const [form] = Form.useForm();\r\n\r\n    const params = useMemo(() => {\r\n        return {\r\n            ...conditions,\r\n            pageNum,\r\n            pageSize,\r\n        };\r\n    }, [conditions, pageNum, pageSize]);\r\n\r\n    // 使用现有查询条件，重新发起请求\r\n    const refreshSearch = useCallback(() => {\r\n        setConditions(form.getFieldsValue());\r\n    }, [form]);\r\n\r\n    // 获取列表\r\n    const { data: { dataSource, total } = {} } = props.ajax.useGet('/user/queryUsersByPage', params, [params], {\r\n        setLoading,\r\n        formatResult: (res) => {\r\n            return {\r\n                dataSource: res?.content || [],\r\n                total: res?.totalElements || 0,\r\n            };\r\n        },\r\n    });\r\n\r\n    // 删除\r\n    const { run: deleteRecord } = props.ajax.useDel('/user/:id', null, { setLoading, successTip: '删除成功！' });\r\n\r\n    const columns = [\r\n        { title: '告警ID', dataIndex: 'account' },\r\n        { title: '告警负责人', dataIndex: 'name' },\r\n        { title: '告警状态', dataIndex: 'enabled', render: (value) => options.enabled.getTag(!!value) },\r\n        { title: '联系电话', dataIndex: 'mobile' },\r\n        { title: '创建时间', dataIndex: 'email' },\r\n        { title: '联系邮箱', dataIndex: 'email' },\r\n        {\r\n            title: '操作',\r\n            key: 'operator',\r\n            width: 150,\r\n            render: (value, record) => {\r\n                const { id, name } = record;\r\n                const items = [\r\n                    {\r\n                        label: '查看',\r\n                        onClick: () => setRecord({ ...record, isDetail: true }) || setVisible(true),\r\n                    },\r\n                    {\r\n                        label: '编辑',\r\n                        onClick: () => setRecord(record) || setVisible(true),\r\n                    },\r\n                    {\r\n                        label: '删除',\r\n                        color: 'red',\r\n                        confirm: {\r\n                            title: `您确定删除「${name}」吗？`,\r\n                            onConfirm: () => handleDelete(id),\r\n                        },\r\n                    },\r\n                ];\r\n\r\n                return <Operator items={items} />;\r\n            },\r\n        },\r\n    ];\r\n\r\n    const handleDelete = useCallback(\r\n        async (id) => {\r\n            await deleteRecord(id);\r\n            // 触发列表更新\r\n            refreshSearch();\r\n        },\r\n        [deleteRecord, refreshSearch],\r\n    );\r\n\r\n    const queryItem = {\r\n        style: { width: 200 },\r\n    };\r\n    const queryItemDaye = {\r\n        style: { width: 300 },\r\n    };\r\n    // 表格多选\r\n    const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n    const handleSelectedRowKeysChange = useCallback((selectedRowKeys) => {\r\n        setSelectedRowKeys(selectedRowKeys);\r\n    }, []);\r\n\r\n    return (\r\n        <PageContent loading={loading}>\r\n            <QueryBar>\r\n                <Form\r\n                    name=\"user\"\r\n                    layout=\"inline\"\r\n                    form={form}\r\n                    initialValues={{ position: '01' }}\r\n                    onFinish={(values) => setPageNum(1) || setConditions(values)}\r\n                >\r\n                    <FormItem {...queryItem} label=\"告警编号\" name=\"customerNo\" />\r\n                    <FormItem {...queryItem} label=\"告警名称\" name=\"customerName\" />\r\n\r\n                    <FormItem>\r\n                        <Space>\r\n                            <Button type=\"primary\" htmlType=\"submit\">\r\n                                查询\r\n                            </Button>\r\n                            <Button onClick={() => form.resetFields()}>重置</Button>\r\n                        </Space>\r\n                    </FormItem>\r\n                </Form>\r\n            </QueryBar>\r\n            <ToolBar>\r\n                <Button type=\"primary\" onClick={() => setRecord(null) || setVisible(true)}>\r\n                    新增告警\r\n                </Button>\r\n                {/* <Button type=\"primary\" onClick={() => setRecord(null) || setVisible(true)}>\r\n                    批量修改业务员\r\n                </Button> */}\r\n            </ToolBar>\r\n            <Table\r\n                serialNumber\r\n                pageNum={pageNum}\r\n                pageSize={pageSize}\r\n                fitHeight\r\n                dataSource={dataSource}\r\n                columns={columns}\r\n                rowSelection={{\r\n                    selectedRowKeys: selectedRowKeys,\r\n                    onChange: handleSelectedRowKeysChange,\r\n                }}\r\n                rowKey=\"id\"\r\n            />\r\n            <Pagination\r\n                total={total}\r\n                pageNum={pageNum}\r\n                pageSize={pageSize}\r\n                onPageNumChange={setPageNum}\r\n                onPageSizeChange={(pageSize) => setPageNum(1) || setPageSize(pageSize)}\r\n            />\r\n            <EditModal\r\n                visible={visible}\r\n                record={record}\r\n                isEdit={!!record}\r\n                onOk={() => setVisible(false) || refreshSearch()}\r\n                onCancel={() => setVisible(false)}\r\n            />\r\n        </PageContent>\r\n    );\r\n});\r\n","import { wrapperOptions } from '@ra-lib/admin';\r\n\r\n/**\r\n * 使用 require.context 自动引入所有model文件\r\n * */\r\nconst result = {};\r\n\r\n// src/models目录下，不支持子文件夹\r\nconst req = require.context('./', false, /\\.js$/);\r\nreq.keys().forEach((key) => {\r\n    if (['./index.js'].includes(key)) return;\r\n\r\n    const model = req(key);\r\n\r\n    const options = model.default;\r\n    Object.entries(options).forEach(([k, value]) => {\r\n        if (k in result) throw Error(`${key} 文件中 key 「${k}」已被使用！请更换！`);\r\n        result[k] = value;\r\n    });\r\n});\r\n\r\nwrapperOptions(result, 1000 * 5);\r\n\r\nexport default result;\r\n","import '../../style/default.less'; // style dependencies\n// deps-lint-skip: grid\n\nimport '../../grid/style';","import '../../style/default.less'; // style dependencies\n// deps-lint-skip: grid\n\nimport '../../grid/style';","import { Row } from '../grid';\nexport default Row;","import { Col } from '../grid';\nexport default Col;"],"sourceRoot":""}