(this["webpackJsonp_react-admin"]=this["webpackJsonp_react-admin"]||[]).push([[17],{1001:function(e,t,a){var n={"./index.js":995,"./system.js":1002};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=1001},1002:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a.n(n),c=a(11),u=(a(511),a(370)),i=a(151),l=a(9);t.default={menuTarget:[{value:"menu",label:"\u5e94\u7528\u83dc\u5355"},{value:"qiankun",label:"\u4e7e\u5764\u5b50\u5e94\u7528"},{value:"iframe",label:"iframe\u5185\u5d4c\u7b2c\u4e09\u65b9"},{value:"_self",label:"\u5f53\u524d\u7a97\u53e3\u6253\u5f00\u7b2c\u4e09\u65b9"},{value:"_blank",label:"\u65b0\u5f00\u7a97\u53e3\u6253\u5f00\u7b2c\u4e09\u65b9"}],yesNo:[{value:!0,label:"\u662f",tag:Object(l.jsx)(u.a,{color:"green",children:"\u662f"})},{value:!1,label:"\u5426",tag:Object(l.jsx)(u.a,{color:"red",children:"\u5426"})}],enabled:[{value:!0,label:"\u542f\u7528",tag:Object(l.jsx)(u.a,{color:"green",children:"\u542f\u7528"})},{value:!1,label:"\u7981\u7528",tag:Object(l.jsx)(u.a,{color:"red",children:"\u7981\u7528"})}],sex:[{value:"1",label:"\u7537"},{value:"2",label:"\u5973"},{value:"3",label:"\u672a\u77e5"}],system:function(){return Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.get("/menu/queryTopMenus");case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return{value:e.id,label:e.title,meta:e}})));case 4:case"end":return e.stop()}}),e)})))()},action:function(){return[{value:"add",label:"\u6dfb\u52a0"}]},get demo(){return[]}}},985:function(e,t,a){"use strict";a.r(t);a(310);var n=a(171),r=(a(107),a(39)),c=a(5),u=a.n(c),i=a(11),l=a(26),s=(a(369),a(232)),o=a(49),b=a(0),j=a(15),d=a(170),O=a(995),f=(a(996),a(998)),x=(a(997),a(999)),p=a(9),m=Object(d.a)({modal:{title:function(e){var t;return null!==e&&void 0!==e&&null!==(t=e.record)&&void 0!==t&&t.isDetail?"\u67e5\u770b\u544a\u8b66":e.isEdit?"\u7f16\u8f91\u544a\u8b66":"\u65b0\u589e\u544a\u8b66"},width:"70%",top:50}})((function(e){var t=e.record,a=e.isEdit,n=e.onOk,c=e.onCancel,d=Object(b.useState)(!1),O=Object(o.a)(d,2),m=O[0],v=O[1],h=s.a.useForm(),g=Object(o.a)(h,1)[0],k=null===t||void 0===t?void 0:t.isDetail,y=Object(b.useMemo)((function(){return{id:null===t||void 0===t?void 0:t.id}}),[t]);e.ajax.useGet("/user/getUserById",y,[y],{mountFire:a,setLoading:v,formatResult:function(e){e&&g.setFieldsValue(e)}});var S=e.ajax.usePost("/user/addUser",null,{setLoading:v,successTip:"\u521b\u5efa\u6210\u529f\uff01"}).run,w=e.ajax.usePost("/user/updateUserById",null,{setLoading:v,successTip:"\u4fee\u6539\u6210\u529f\uff01"}).run,C=e.ajax.useGet("/user/getOneUser").run,q=Object(b.useCallback)(function(){var e=Object(i.a)(u.a.mark((function e(t){var r,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=null===(r=t.roleIds)||void 0===r?void 0:r.filter((function(e){return!"".concat(e).startsWith("systemId")})),i=Object(l.a)(Object(l.a)({},t),{},{roleIds:c}),!a){e.next=7;break}return e.next=5,w(i);case 5:e.next=9;break;case 7:return e.next=9,S(i);case 9:n();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,w,S,n]),E=Object(j.V)(function(){var e=Object(i.a)(u.a.mark((function e(t,n){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,C({account:n});case 4:if(r=e.sent){e.next=7;break}return e.abrupt("return");case 7:if(c=g.getFieldValue("id"),!a||r.id===c||r.account!==n){e.next=10;break}throw Error("\u8d26\u53f7\u4e0d\u80fd\u91cd\u590d\uff01");case 10:if(a||r.account!==n){e.next=12;break}throw Error("\u8d26\u53f7\u4e0d\u80fd\u91cd\u590d\uff01");case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),I=k,T={labelCol:{flex:"140px"},disabled:I};return Object(p.jsx)(s.a,{form:g,name:"roleEdit",onFinish:q,initialValues:{enabled:!0},children:Object(p.jsxs)(j.k,{loading:m,okText:"\u4fdd\u5b58",okHtmlType:"submit",cancelText:"\u53d6\u6d88",onCancel:function(){return c()},footer:I?Object(p.jsx)(r.a,{onClick:c,children:"\u5173\u95ed"}):void 0,children:[a?Object(p.jsx)(j.e,{hidden:!0,name:"id"}):null,Object(p.jsxs)(f.a,{gutter:24,children:[Object(p.jsx)(x.a,{span:11,children:Object(p.jsx)(j.e,Object(l.a)(Object(l.a)({},T),{},{label:"\u5ba2\u6237\u7f16\u7801",name:"account",required:!0,noSpace:!0,rules:[{validator:E}]}))}),Object(p.jsx)(x.a,{span:11,children:Object(p.jsx)(j.e,Object(l.a)(Object(l.a)({},T),{},{label:"\u5ba2\u6237\u540d\u79f0",name:"account",required:!0,noSpace:!0,rules:[{validator:E}]}))}),Object(p.jsx)(x.a,{span:11,children:Object(p.jsx)(j.e,Object(l.a)(Object(l.a)({},T),{},{label:"\u7edf\u4e00\u793e\u4f1a\u4fe1\u7528\u4ee3\u7801",name:"account",required:!0,noSpace:!0,rules:[{validator:E}]}))}),Object(p.jsx)(x.a,{span:11,children:Object(p.jsx)(j.e,Object(l.a)(Object(l.a)({},T),{},{label:"\u624b\u673a\u53f7",name:"account",required:!0,noSpace:!0,rules:[{validator:E}]}))}),Object(p.jsx)(x.a,{span:11,children:Object(p.jsx)(j.e,Object(l.a)(Object(l.a)({},T),{},{label:"\u8bc1\u636e\u6709\u6548\u671f",name:"account",required:!0,noSpace:!0,rules:[{validator:E}]}))}),Object(p.jsx)(x.a,{span:11,children:Object(p.jsx)(j.e,Object(l.a)(Object(l.a)({},T),{},{label:"\u884c\u4e1a",name:"account",required:!0,noSpace:!0,rules:[{validator:E}]}))}),Object(p.jsx)(x.a,{span:11,children:Object(p.jsx)(j.e,Object(l.a)(Object(l.a)({},T),{},{label:"\u8054\u7cfb\u4eba",name:"account",required:!0,noSpace:!0,rules:[{validator:E}]}))}),Object(p.jsx)(x.a,{span:11,children:Object(p.jsx)(j.e,Object(l.a)(Object(l.a)({},T),{},{label:"\u90ae\u7bb1",name:"account",required:!0,noSpace:!0,rules:[{validator:E}]}))}),Object(p.jsx)(x.a,{span:11,children:Object(p.jsx)(j.e,Object(l.a)(Object(l.a)({},T),{},{label:"\u5173\u8054\u4e1a\u52a1\u5458",name:"account",required:!0,noSpace:!0,rules:[{validator:E}]}))}),Object(p.jsx)(x.a,{span:11,children:Object(p.jsx)(j.e,Object(l.a)(Object(l.a)({},T),{},{label:"\u5ba2\u6237\u7c7b\u578b",name:"account",required:!0,noSpace:!0,rules:[{validator:E}]}))}),Object(p.jsx)(x.a,{span:22,children:Object(p.jsx)(j.e,Object(l.a)(Object(l.a)({},T),{},{label:"\u5730\u5740",name:"account",type:"textarea",required:!0,noSpace:!0,rules:[{validator:E}]}))})]})]})})}));t.default=Object(d.a)({path:"/warningManage/newWarning"})((function(e){var t=Object(b.useState)(!1),a=Object(o.a)(t,2),c=a[0],d=a[1],f=Object(b.useState)(1),x=Object(o.a)(f,2),v=x[0],h=x[1],g=Object(b.useState)(20),k=Object(o.a)(g,2),y=k[0],S=k[1],w=Object(b.useState)({}),C=Object(o.a)(w,2),q=C[0],E=C[1],I=Object(b.useState)(!1),T=Object(o.a)(I,2),F=T[0],N=T[1],U=Object(b.useState)(null),D=Object(o.a)(U,2),L=D[0],V=D[1],_=s.a.useForm(),M=Object(o.a)(_,1)[0],P=Object(b.useMemo)((function(){return Object(l.a)(Object(l.a)({},q),{},{pageNum:v,pageSize:y})}),[q,v,y]),z=Object(b.useCallback)((function(){E(M.getFieldsValue())}),[M]),B=e.ajax.useGet("/user/queryUsersByPage",P,[P],{setLoading:d,formatResult:function(e){return{dataSource:(null===e||void 0===e?void 0:e.content)||[],total:(null===e||void 0===e?void 0:e.totalElements)||0}}}).data,G=(B=void 0===B?{}:B).dataSource,R=B.total,H=e.ajax.useDel("/user/:id",null,{setLoading:d,successTip:"\u5220\u9664\u6210\u529f\uff01"}).run,J=[{title:"\u6307\u6807\u540d\u79f0",dataIndex:"account"},{title:"\u544a\u8b66\u6570\u503c",dataIndex:"name"},{title:"\u544a\u8b66\u7ea7\u522b",dataIndex:"enabled",render:function(e){return O.default.enabled.getTag(!!e)}},{title:"\u8d1f\u8d23\u90e8\u95e8",dataIndex:"mobile"},{title:"\u8d1f\u8d23\u4eba",dataIndex:"email"},{title:"\u544a\u8b66\u65f6\u95f4",dataIndex:"email"},{title:"\u64cd\u4f5c",key:"operator",width:150,render:function(e,t){var a=t.id,n=t.name,r=[{label:"\u67e5\u770b",onClick:function(){return V(Object(l.a)(Object(l.a)({},t),{},{isDetail:!0}))||N(!0)}},{label:"\u7f16\u8f91",onClick:function(){return V(t)||N(!0)}},{label:"\u5220\u9664",color:"red",confirm:{title:"\u60a8\u786e\u5b9a\u5220\u9664\u300c".concat(n,"\u300d\u5417\uff1f"),onConfirm:function(){return K(a)}}}];return Object(p.jsx)(j.l,{items:r})}}],K=Object(b.useCallback)(function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t);case 2:z();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[H,z]),W={style:{width:200}},Z=Object(b.useState)([]),A=Object(o.a)(Z,2),Q=A[0],X=A[1],Y=Object(b.useCallback)((function(e){X(e)}),[]);return Object(p.jsxs)(j.m,{loading:c,children:[Object(p.jsx)(j.o,{children:Object(p.jsxs)(s.a,{name:"user",layout:"inline",form:M,initialValues:{position:"01"},onFinish:function(e){return h(1)||E(e)},children:[Object(p.jsx)(j.e,Object(l.a)(Object(l.a)({},W),{},{label:"\u544a\u8b66\u7f16\u53f7",name:"customerNo"})),Object(p.jsx)(j.e,Object(l.a)(Object(l.a)({},W),{},{label:"\u544a\u8b66\u540d\u79f0",name:"customerName"})),Object(p.jsx)(j.e,{children:Object(p.jsxs)(n.b,{children:[Object(p.jsx)(r.a,{type:"primary",htmlType:"submit",children:"\u67e5\u8be2"}),Object(p.jsx)(r.a,{onClick:function(){return M.resetFields()},children:"\u91cd\u7f6e"})]})})]})}),Object(p.jsx)(j.q,{children:Object(p.jsx)(r.a,{type:"primary",onClick:function(){return V(null)||N(!0)},children:"\u65b0\u589e\u544a\u8b66"})}),Object(p.jsx)(j.p,{serialNumber:!0,pageNum:v,pageSize:y,fitHeight:!0,dataSource:G,columns:J,rowSelection:{selectedRowKeys:Q,onChange:Y},rowKey:"id"}),Object(p.jsx)(j.n,{total:R,pageNum:v,pageSize:y,onPageNumChange:h,onPageSizeChange:function(e){return h(1)||S(e)}}),Object(p.jsx)(m,{visible:F,record:L,isEdit:!!L,onOk:function(){return N(!1)||z()},onCancel:function(){return N(!1)}})]})}))},995:function(e,t,a){"use strict";a.r(t);var n=a(49),r=a(15),c={},u=a(1001);u.keys().forEach((function(e){if(!["./index.js"].includes(e)){var t=u(e).default;Object.entries(t).forEach((function(t){var a=Object(n.a)(t,2),r=a[0],u=a[1];if(r in c)throw Error("".concat(e," \u6587\u4ef6\u4e2d key \u300c").concat(r,"\u300d\u5df2\u88ab\u4f7f\u7528\uff01\u8bf7\u66f4\u6362\uff01"));c[r]=u}))}})),Object(r.Z)(c,5e3),t.default=c},996:function(e,t,a){"use strict";a(35),a(510)},997:function(e,t,a){"use strict";a(35),a(510)},998:function(e,t,a){"use strict";var n=a(484);t.a=n.a},999:function(e,t,a){"use strict";var n=a(288);t.a=n.a}}]);
//# sourceMappingURL=17.ef220911.chunk.js.map